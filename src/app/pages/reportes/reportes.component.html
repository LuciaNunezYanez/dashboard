<div class="">

    <div class="row">
        <form autocomplete="off" [formGroup]="formaBusqueda" class="formatear-texto" (ngSubmit)="buscarReportes()">
            <div class="row m-0 p-0">
                <div class="col-md-4 col-4">
                    <div class="row">
                        <div class="col-2 pl-0">
                            <label for="Folio" class="text-dark mb-0 pb-0">Folio núm:</label>
                            <input class="form-control form-control-sm" id="Folio" formControlName="folio" type="text" aria-label=".form-control-sm example" autocomplete="off">
                        </div>

                        <div class="col-3 pl-0">
                            <label for="FolioCAD" class="text-dark mb-0 pb-0">Folio CAD:</label>
                            <input class="form-control form-control-sm" id="FolioCAD" formControlName="folioCAD" type="text" aria-label=".form-control-sm example" autocomplete="off">
                        </div>
                        <div class="col-7 pl-0 pt-0">

                            <label for="operadorInput" class="text-dark mb-0 pb-0">Operador:</label>
                            <select class="form-control form-control-sm mb-0 pb-0" id="operadorInput" formControlName="id_operador"> 
                                <option value="0">Todos</option>
                                <option *ngFor="let oper of objUsuarios"
                                        value="{{oper.id_usuarios_cc}}"> 
                                        {{oper.nombres_usuarios_cc}} {{oper.apellido_paterno}} {{oper.apellido_materno}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4 pl-0">
                            <label for="fechaInput" class="text-dark mb-0 pb-0">Fecha inicio:</label>
                            <input class="form-control form-control-sm" id="fechaInput" formControlName="fecha_inicio" type="date" aria-label=".form-control-sm example" autocomplete="off">
                        </div>
                        <div class="col-4 pl-0">
                            <label for="fechaFin" class="text-dark mb-0 pb-0">Fecha fin:</label>
                            <input class="form-control form-control-sm" id="fechaFin" formControlName="fecha_fin" type="date" aria-label=".form-control-sm example" autocomplete="off">
                        </div>
                        <div class="col-4 pl-0">
                            <label for="telefonoInput" class="text-dark mb-0 pb-0">Tel origen:</label>
                            <input class="form-control form-control-sm" id="telefonoInput" formControlName="telefono" type="text" aria-label=".form-control-sm example" autocomplete="off">
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-4">
                    <!-- style="border-left: thick solid #6d7288;" -->
                    <div class="">
                        <label for="calleInput" class="text-dark mb-0 pb-0">Calle:</label>
                        <input class="form-control form-control-sm" id="calleInput" formControlName="calle" type="text" aria-label=".form-control-sm example">
                    </div>
                    <div class="">
                        <label for="numeroInput" class="text-dark mb-0 pb-0">Número exterior:</label>
                        <input class="form-control form-control-sm" id="numeroInput" formControlName="numero" type="text" aria-label=".form-control-sm example">
                    </div>
                </div>
                <div class="col-md-2 col-4 pl-0">
                    <div class="">
                        <label for="coloniaInput" class="text-dark mb-0 pb-0">Colonia:</label>
                        <input class="form-control form-control-sm" id="coloniaInput" formControlName="colonia" type="text" aria-label=".form-control-sm example">
                    </div>
                    <div class="">
                        <label for="codigoPInput" class="text-dark mb-0 pb-0">Código postal:</label>
                        <input class="form-control form-control-sm" id="codigoPInput" formControlName="cp" type="text" aria-label=".form-control-sm example">
                    </div>
                </div>
                <div class="col-md-2 col-4 pl-0">
                    <div class="">
                        <label for="municipioInput" class="text-dark mb-0 pb-0">Municipio:</label>
                        <select class="form-control form-control-sm mb-0 pb-0" id="municipioInput" formControlName="id_municipio" (change)="onSelectMunicipio($event.target.value)"> 
                            <option value="0">Todos</option>
                            <option *ngFor="let mun of objMunicipios"
                                    value="{{mun.ID_MUNICIPIOS}}"> 
                                    {{mun.NOMBRE_MUNICIPIO}}</option>
                        </select>
                    </div>
                    <div class="">
                        <label for="localidadInput" class="text-dark mb-0 pb-0">Localidad:</label>
                        <select class="form-control form-control-sm mb-0 pb-0" id="localidadInput" formControlName="id_localidad" (change)="onSelectLocalidad($event.target.value)"> 
                            <option value="0">Todas</option>
                            <option *ngFor="let loc of objLocalidades"
                                    value="{{loc.ID_LOCALIDADES}}"> 
                                    {{loc.NOMBRE_LOCALIDAD}}</option>
                        </select>

                    </div>
                </div>

                <div class="col-md-2 col-4 pl-0 align-content-center justify-content-center align-self-center">
                    <div class="row justify-content-center justify-self-center gravity-center">
                        <button type="submit" class="btn btn-lg btn-dark">Buscar</button>
                    </div>

                </div>

            </div>
            <hr style="border: solid 1px rgb(86,90,105);">
        </form>
    </div>

    <!-- TABLA BUSQUEDA -->
    <!-- TABLA BUSQUEDA -->
    <!-- TABLA BUSQUEDA -->
    <!-- TABLA BUSQUEDA -->

    <div class="row justify-content-center" *ngIf="this.TABLA_BUSQUEDA">
        <div class="card shadow-sm border">
            <div class="card-body" style="border: 1px solid rgb(214,214,214);">
                <div class="table-responsive-xxl">
                    <table class="table table-striped table-hover formatear-texto mb-0 pb-0">
                        <tr>
                            <td scope="col">Folio:</td>
                            <td scope="col">Folio CAD:</td>
                            <td scope="col">Fecha:</td>
                            <td scope="col">Operador:</td>
                            <td scope="col">Tel origen:</td>
                            <td scope="col">Dirección:</td>
                            <td scope="col">Localidad:</td>
                            <td scope="col">Municipio:</td>
                            <td scope="col">Estatus:</td>
                            <td scope="col">Acción</td>
                        </tr>
                        <tr *ngFor="let item of this.objResults">
                            <th class="ml-1 pt-0">{{item.abrev_grupo}}-{{item.id_reporte | number: '3.0-3'}}</th>
                            <th class="ml-1 pt-0">{{item.folioCAD}}</th>
                            <th class="ml-1 pt-0">{{item.fecha_hora_docum | date:'d-M-yyyy HH:mm:ss'}}</th>
                            <th class="ml-1 pt-0">{{item.nombre_operador}}</th>
                            <th class="ml-1 pt-0">{{item.tel_movil}}</th>
                            <th class="ml-1 pt-0">{{item.calle + ' #' + item.numero + ' ' + item.colonia}}</th>
                            <th class="ml-1 pt-0">{{item.nombre_localidad}}</th>
                            <th class="ml-1 pt-0">{{item.nombre_municipio}}</th>
                            <th class="ml-1 pt-0">{{getEstatus(item.estatus_actual)}}</th>
                            <th class="ml-1 pt-0"><button type="button" value="item.id_reporte" class="btn btn-sm btn-outline-dark" (click)="verReporte(item.id_reporte)">Ver</button></th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- REPORTE FULL -->
    <!-- REPORTE FULL -->
    <!-- REPORTE FULL -->
    <!-- REPORTE FULL -->

    <div class="row" *ngIf="this.REPORTE_BUSQUEDA">
        <div class="col-xl-6 col-lg-12">
            <div class="row">
                <div class="card shadow-sm border" style="min-width: 100%;">
                    <div class="card-body" style="border: 1px solid rgb(214,214,214);">
                        <div class="table-responsive">
                            <table class="table formatear-texto mb-0 pb-0">
                                <tr>
                                    <td scope="col">Folio:</td>
                                    <td scope="col">Folio CAD:</td>
                                    <td scope="col">Estatus:</td>
                                    <td scope="col">Fecha:</td>
                                    <td scope="col">Operador:</td>
                                    <td scope="col"> </td>
                                </tr>
                                <tr>
                                    <th class="ml-1 mt-0">{{this.objReporteFull.abrev_grupo}}-{{this.objReporteFull.id_reporte | number: '3.0-3'}}</th>
                                    <th class="ml-1 mt-0">{{this.objReporteFull.num_unidad}}</th>
                                    <th class="ml-1 mt-0">{{getEstatus(this.objReporteFull.estatus_actual)}}</th>
                                    <th class="ml-1 mt-0">{{this.objReporteFull.fecha_hora_docum | date: 'd-M-yyyy'}}<br> {{this.objReporteFull.fecha_hora_docum | date: 'HH:mm:ss'}}</th>
                                    <th class="ml-1 mt-0">{{this.objReporteFull.nombres_usuarios_cc}} {{this.objReporteFull.apellido_paterno}} {{this.objReporteFull.apellido_materno}}</th>
                                    <th class="ml-1 mt-0"><button type="button" class="btn btn btn-outline-dark" data-toggle="modal" data-target="#modalReporte">Ver más</button></th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="card shadow-sm border" style="min-width: 100%;">
                    <div class="card-body" style="border: 1px solid rgb(214,214,214);">
                        <div class="table-responsive">
                            <table class="formatear-texto">
                                <tr>
                                    <td scope="col pb-0">Grupo:</td>
                                    <td scope="col pb-0">Nombre(s):</td>
                                    <td scope="col pb-0">Paterno:</td>
                                    <td scope="col pb-0">Materno:</td>
                                    <td scope="col pb-0">Teléfono:</td>
                                    <td scope="col pb-0">Sexo:</td>
                                    <td scope="col pb-0">Nacimiento:</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgb(214,214,214);">
                                    <th class="pt-0">{{this.objReporteFull.nombre_grupo}}</th>
                                    <th class="pt-0">{{this.objReporteFull.nombres_usuarios_app}}</th>
                                    <th class="pt-0">{{this.objReporteFull.apell_pat}}</th>
                                    <th class="pt-0">{{this.objReporteFull.apell_mat}}</th>
                                    <th class="pt-0">{{this.objReporteFull.tel_movil}}</th>
                                    <th class="pt-0">{{this.objReporteFull.sexo_app}}</th>
                                    <th class="pt-0">{{this.objReporteFull.fecha_nacimiento | date: 'd-M-yyyy'}}</th>
                                </tr>
                                <tr>
                                    <td scope="col pb-0">Tipo sangre:</td>
                                    <td scope="col pb-0">Peso:</td>
                                    <td scope="col pb-0">Estatura:</td>
                                    <td scope="col pb-0">Alergias:</td>
                                    <td scope="col pb-0">Padecimientos:</td>
                                    <td scope="col pb-0">Medicamentos:</td>
                                    <td scope="col pb-0">Señas particulares:</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgb(214,214,214);">
                                    <th class="pt-0">{{this.objReporteFull.tipo_sangre}}</th>
                                    <th class="pt-0">{{this.objReporteFull.peso}}</th>
                                    <th class="pt-0">{{this.objReporteFull.estatura}}</th>
                                    <th class="pt-0">{{this.objReporteFull.alergias}}</th>
                                    <th class="pt-0">{{this.objReporteFull.padecimientos}}</th>
                                    <th class="pt-0">{{this.objReporteFull.toma_medicamentos}}</th>
                                    <th class="pt-0">{{this.objReporteFull.senas_particulares}}</th>
                                </tr>
                                <tr>
                                    <td scope="col pb-0">Habla:</td>
                                    <td scope="col pb-0">Escucha:</td>
                                    <td scope="col pb-0">Lee:</td>
                                    <td scope="col pb-0">Escribe:</td>
                                    <td scope="col pb-0">Habla LSM:</td>
                                    <td scope="col pb-0">Contacto:</td>
                                    <td scope="col pb-0">Teléfono:</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgb(214,214,214);">

                                    <th class="pt-0">{{this._util.getNumToValor(this.objReporteFull.habla)}}</th>
                                    <th class="pt-0">{{this._util.getNumToValor(this.objReporteFull.escucha)}}</th>
                                    <th class="pt-0">{{this._util.getNumToValor(this.objReporteFull.lee)}}</th>
                                    <th class="pt-0">{{this._util.getNumToValor(this.objReporteFull.escribe)}}</th>
                                    <th class="pt-0">{{this._util.getNumToValor(this.objReporteFull.habla_LSM)}}</th>
                                    <th class="pt-0">{{this.objReporteFull.nombre_contacto_emerg}}<br>{{this.objReporteFull.parentezco_contacto_emerg}}</th>
                                    <th class="pt-0">{{this.objReporteFull.telefono_contacto_emerg}}</th>
                                </tr>
                                <tr>
                                    <td scope="col pb-0">Calle:</td>
                                    <td scope="col pb-0">Número:</td>
                                    <td scope="col pb-0">Colonia:</td>
                                    <td scope="col pb-0">CP:</td>
                                    <td scope="col pb-0">Localidad:</td>
                                    <td scope="col pb-0">Municipio:</td>
                                    <td scope="col pb-0">Calles:</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgb(214,214,214);">
                                    <th class="pt-0">{{this.objReporteFull.calle}}</th>
                                    <th class="pt-0">{{this.objReporteFull.numero}}</th>
                                    <th class="pt-0">{{this.objReporteFull.colonia}}</th>
                                    <th class="pt-0">{{this.objReporteFull.cp}}</th>
                                    <th class="pt-0">{{this.objReporteFull.nombre_localidad}}</th>
                                    <th class="pt-0">{{this.objReporteFull.nombre_municipio}}</th>
                                    <th class="pt-0">{{this.objReporteFull.entre_calle_1}} y {{this.objReporteFull.entre_calle_2}}</th>
                                </tr>
                                <tr>
                                    <td scope="col pb-0">Nombre comercio:</td>
                                    <td scope="col pb-0">Teléfono:</td>
                                    <td scope="col pb-0">Razón social:</td>
                                    <td scope="col pb-0">Giro:</td>
                                    <td scope="col pb-0"># Empleados:</td>
                                    <td scope="col pb-0">Fachada:</td>
                                </tr>
                                <tr>

                                    <th class="pt-0">{{this.objReporteFull.nombre_comercio}}</th>
                                    <th class="pt-0">{{this.objReporteFull.telefono_fijo}}</th>
                                    <th class="pt-0">{{this.objReporteFull.razon_social}}</th>
                                    <th class="pt-0">{{this.objReporteFull.giro}}</th>
                                    <th class="pt-0">{{this.objReporteFull.num_empleados}}</th>
                                    <th class="pt-0">{{this.objReporteFull.fachada}} </th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row" *ngIf="this.objActivaciones.length>1">
                <div class="card shadow-sm" style=" min-width: 100%;">
                    <div class="card-body" style="border: 1px solid rgb(214, 214, 214);">
                        <div class="row">
                            <div class="col-12">
                                <label class="mr-2">Horas de activación: </label>
                                <span class="badge bg-warning text-dark font-weight-bold ml-1" *ngFor="let item of this.objActivaciones">{{item.fecha_hora_activacion | date: 'HH:mm:ss'}}</span>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>




        <div class="col-xl-6 col-lg-12">
            <div class="">
                <div class="card-body bg-white" style="border: 1px solid rgb(214, 214, 214);">
                    <div class="row mb-1">
                        <div class="col-12">
                            <ul class="nav nav-pills">
                                <li class="nav-item">
                                    <a type="button" class="btn btn-outline-secondary tablinks active mult ml-2 mt-2" (click)="openCity($event, 'GPS')" data-whatever="@mdo">
                                        <i class="mdi mdi-map-marker"></i>
                                        <span id="mult_menu_num" *ngIf="this.objCoordenadas?.tipo_ubicacion && this.objCoordenadas?.latitudActual != 0.0 && this.objCoordenadas?.latitudActual != undefined" data-action="mult-can" class="badge rounded-circle">1</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a type="button" class="btn btn-outline-secondary tablinks mult ml-2 mt-2" (click)="openCity($event, 'IMG')" data-whatever="@mdo">
                                        <i class="mdi mdi-camera"></i>
                                        <span id="mult_menu_num" *ngIf="this.objImagenes.length> 0" data-action="mult-can" class="badge rounded-circle">{{this.objImagenes.length}}</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a type="button" class="btn btn-outline-secondary tablinks mult ml-2 mt-2" (click)="openCity($event, 'AUDIO')" data-whatever="@mdo">
                                        <i class="mdi mdi-volume-high"></i>
                                        <span id="mult_menu_num" *ngIf="this.objAudio.length > 0" data-action="mult-can" class="badge rounded-circle">{{this.objAudio.length}}</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a type="button" class="btn btn-outline-secondary tablinks mult ml-2 mt-2" (click)="openCity($event, 'VIDEO')" data-whatever="@mdo">
                                        <i class="mdi mdi-video"></i>
                                        <span id="mult_menu_num" *ngIf="this.objVideo.length > 0" data-action="mult-can" class="badge rounded-circle">{{this.objVideo.length}}</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row" style="height: 650px;">
                        <!-- <div class="tab col-1">
                            <div class="row">
                                <a type="button" class="btn btn-outline-secondary tablinks active mult ml-2 mt-2" (click)="openCity($event, 'GPS')" data-whatever="@mdo">
                                    <i class="mdi mdi-map-marker"></i>
                                    <span id="mult_menu_num" *ngIf="this.objCoordenadas?.tipo_ubicacion" data-action="mult-can" class="badge rounded-circle">1</span>
                                </a>
                            </div>
                            <div class="row">
                                <a type="button" class="btn btn-outline-secondary tablinks mult ml-2 mt-2" (click)="openCity($event, 'IMG')" data-whatever="@mdo">
                                    <i class="mdi mdi-camera"></i>
                                    <span id="mult_menu_num" *ngIf="this.objImagenes.length> 0" data-action="mult-can" class="badge rounded-circle">{{this.objImagenes.length}}</span>
                                </a>
                            </div>
                            <div class="row">
                                <a type="button" class="btn btn-outline-secondary tablinks mult ml-2 mt-2" (click)="openCity($event, 'AUDIO')" data-whatever="@mdo">
                                    <i class="mdi mdi-volume-high"></i>
                                    <span id="mult_menu_num" *ngIf="this.objAudio.length > 0" data-action="mult-can" class="badge rounded-circle">{{this.objAudio.length}}</span>
                                </a>
                            </div>
                            <div class="row">
                                <a type="button" class="btn btn-outline-secondary tablinks mult ml-2 mt-2" (click)="openCity($event, 'VIDEO')" data-whatever="@mdo">
                                    <i class="mdi mdi-video"></i>
                                    <span id="mult_menu_num" *ngIf="this.objVideo.length > 0" data-action="mult-can" class="badge rounded-circle">{{this.objVideo.length}}</span>
                                </a>
                            </div>
                        </div> -->

                        <div id="GPS" class="tabcontent col-12" style="display: block;" *ngIf="true">
                            <div class="">
                                <div class="form-group row mr-2 mt-3" *ngIf="this.objCoordenadas?.latitudActual === 0.0 || this.objCoordenadas?.tipo_ubicacion?.length < 4">
                                    <div class="alert alert-danger text-center ml-3 mb-0" role="alert">
                                        ¡Sin ubicación registrada!
                                    </div>
                                </div>
                                <div class="form-group row mr-2 mt-3" *ngIf="this.objCoordenadas?.tipo_ubicacion === 'Casa' || this.objCoordenadas?.tipo_ubicacion === 'Otra'">
                                    <div class="alert alert-danger text-center ml-3 mb-0" role="alert">
                                        ¡Emergencia en {{this.objCoordenadas?.tipo_ubicacion}}!
                                    </div>
                                </div>

                                <div class="row mt-2" style="height: 470px;" *ngIf="this.objCoordenadas?.tipo_ubicacion === 'Actual' || this.objCoordenadas?.tipo_ubicacion === 'Otra'">
                                    <div class="col" *ngIf="this.objCoordenadas?.latitudActual != 0.0 && this.objCoordenadas?.latitudActual != undefined">
                                        <agm-map [latitude]="this.objCoordenadas?.latitudActual" [longitude]="this.objCoordenadas?.longitudActual" [zoom]="15" style="width: 100%; height: 100%;">
                                            <agm-marker [latitude]="this.objReporteFull?.lat_dir" [longitude]="this.objReporteFull?.lgn_dir" *ngIf="(this.objReporteFull?.lat_dir > 1 && this.objReporteFull?.lgn_dir < 1) &&
                                                (this.objReporteFull?.lat_dir != null && this.objReporteFull?.lgn_dir != null && this.objReporteFull?.lgn_dir != 0)">
                                                <agm-info-window>
                                                    <h6 class="h5 text-success">Ubicación registrada</h6>
                                                    <p>
                                                        {{this.objCoordenadas?.direccionRegistrada}}
                                                    </p>
                                                </agm-info-window>
                                            </agm-marker>
                                            <agm-marker *ngIf="(this.objCoordenadas?.latitudActual != 0.0 && this.objCoordenadas?.longitudActual != 0.0) && 
                                            (this.objCoordenadas?.latitudActual != null && this.objCoordenadas?.longitudActual != null)" [latitude]="this.objCoordenadas?.latitudActual" [longitude]="this.objCoordenadas?.longitudActual">
                                                <agm-info-window>
                                                    <h6 class="h5 text-danger">Ubicación actual</h6>
                                                    <p>
                                                        {{this.objCoordenadas?.direccionActual}} {{this.objCoordenadas?.latitudActual}} {{this.objCoordenadas?.longitudActual}}
                                                    </p>

                                                </agm-info-window>
                                            </agm-marker>
                                        </agm-map>
                                    </div>
                                </div>
                                <div class="form-group row justify-content-end mr-2 mt-1" *ngIf="(this.objReporteFull?.lat_dir != null && this.objReporteFull?.lat_dir != undefined) &&
                                (this.objCoordenadas?.latitudActual != 0.0 && this.objCoordenadas?.latitudActual != undefined) && (this.objReporteFull?.lat_dir != 0)">
                                    <!-- <div class="col-5">
                                        <input class="form-control" type="number" name="distancia" disabled [ngModel]="_direccion.distancia">
                                    </div>
                                    <p class="col-2 col-form-label text-white bg-success" *ngIf="_direccion.metrosKilometros === 'Metros'">Metros</p>
                                    <p class="col-1 col-form-label text-white bg-danger" *ngIf="_direccion.metrosKilometros === 'Kilometros'">Km</p> -->

                                    <div class="col-auto">
                                        <label for="distancia" class="col-form-label">Distancia entre ubicaciones: </label>
                                    </div>
                                    <div class="col-auto">
                                        <input id="distancia" class="form-control" type="number" name="distancia" disabled [ngModel]="_direccion.distancia">
                                    </div>
                                    <p class="col-2 col-form-label text-white bg-success" *ngIf="_direccion.metrosKilometros === 'Metros'">Metros</p>
                                    <p class="col-1 col-form-label text-white bg-danger" *ngIf="_direccion.metrosKilometros === 'Kilometros'">Km</p>
                                </div>
                            </div>
                        </div>

                        <div id="IMG" class="tabcontent col-11 align-content-center justify-content-center align-self-center" style="display: none;">
                            <div class="row justify-content-center">
                                <div class="col-1 align-self-center" *ngIf="this.objImagenes.length > 0">
                                    <button class="btn btn-outline-secondary" href="#carouselImagenes" data-slide="prev"> <i class="mdi mdi-chevron-left"></i> </button>
                                </div>
                                <div id="carouselImagenes" class="carousel slide col-10 align-content-center justify-content-center tam_img">
                                    <ol class="carousel-indicators">
                                        <li data-target="#myCarouselImagenes" *ngFor="let x of this.objImagenes;let i = index" [attr.data-slide-to]="i" ngClass="i == 0 ? 'active' : ''"></li>
                                    </ol>
                                    <div class="carousel-inner" role="listbox">
                                        <div *ngFor="let j of this.objImagenes; let k = index" [ngClass]="k == 0 ? 'carousel-item active' : 'carousel-item'">
                                            <img class="img-fluid img-tam" [src]="this._util.generarRuta(j.ruta)" style="height: 80%; max-height: 550px; width: 70vh;">
                                            <div class="carousel-caption d-none d-md-block">

                                                <h3 class="text-white">{{j.fechahora_captura | date:'hh:mm:ss'}}</h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-1 align-self-center" *ngIf="this.objImagenes.length > 0">
                                    <button class="btn btn-outline-secondary mr-2 mt-1" href="#carouselImagenes" data-slide="next"> <i class="mdi mdi-chevron-right"></i> </button>
                                </div>

                            </div>
                            <!-- <div class="row py-3 align-content-center justify-content-center pr-3">
                                <div class="col-1 align-self-center">
                                    <button class="btn btn-outline-secondary" href="#carouselImagenes" data-slide="prev"> <i class="mdi mdi-chevron-left"></i> </button>
                                </div>
                                <div id="carouselImagenes" class="carousel slide col-10 align-content-center justify-content-center tam_img align-self-center">
                                    <ol class="carousel-indicators">
                                        <li data-target="#myCarouselImagenes" *ngFor="let x of this.objImagenes;let i = index" [attr.data-slide-to]="i" ngClass="i == 0 ? 'active' : ''"></li>
                                    </ol>
                                    <div class="carousel-inner" role="listbox">
                                        <div *ngFor="let j of this.objImagenes; let k = index" [ngClass]="k == 0 ? 'carousel-item active' : 'carousel-item'">
                                            <img class="img-fluid img-tam align-content-center justify-content-center align-self-center" [src]="this._util.generarRuta(j.ruta)" style="height: 100%; max-height: 550px;">
                                            <div class="carousel-caption d-none d-md-block">
                                                <h3 class="text-white">{{j.fechahora_captura | date:'hh:mm:ss'}}</h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-1 align-self-center">
                                    <button class="btn btn-outline-secondary mr-2 mt-1" href="#carouselImagenes" data-slide="next"> <i class="mdi mdi-chevron-right"></i> </button>
                                </div>
                            </div> -->
                        </div>

                        <div id="AUDIO" class="tabcontent col-11" style="display: none;">
                            <div class="table-responsive">
                                <table id="demo-foo-row-toggler" class="table" data-toggle-column="">
                                    <thead>
                                        <tr>
                                            <th class="">Hora</th>
                                            <th class="col"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr data-expanded="true" *ngFor="let aud of this.objAudio">
                                            <td>{{aud.fechahora_captura | date:'hh:mm:ss'}}</td>
                                            <td class="col">
                                                <audio class="col" controls>
                                                <source [src]="this._util.generarRuta(aud.ruta)" type="">
                                            </audio>
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="VIDEO" class="tabcontent col-11 align-content-center justify-content-center" style="display: none;">

                            <div class="row justify-content-between" *ngIf="this.objVideo.length> 1">
                                <button class="btn btn-outline-secondary ml-2 mt-1" href="#carouselVideos" data-slide="prev"> Anterior </button>
                                <button class="btn btn-outline-secondary mr-2 mt-1" href="#carouselVideos" data-slide="next"> Siguiente </button>
                            </div>

                            <div class="row py-3 align-content-center justify-content-center">
                                <div id="carouselVideos" class="carousel slide col align-content-center justify-content-center" style="max-width: 90% !important;">
                                    <ol class="carousel-indicators">
                                        <li data-target="#myCarouselVideos" *ngFor="let x of this.objVideo;let i = index" [attr.data-slide-to]="i" ngClass="i == 0 ? 'active' : ''"></li>
                                    </ol>
                                    <div class="carousel-inner" role="listbox">
                                        <div *ngFor="let j of this.objVideo; let k = index" [ngClass]="k == 0 ? 'carousel-item active' : 'carousel-item'">

                                            <video class="col align-self-center align-content-center" style=" max-height: 550px; max-width: 100%;" controls controlslist="nodownload">
                                                    <source [src]="this._util.generarRuta(j.ruta)" type="video/mp4">
                                                </video>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>





<!-- MODAL REPORTE -->
<!-- MODAL REPORTE -->
<!-- MODAL REPORTE -->
<!-- MODAL REPORTE -->

<div class="modal fade bd-example-modal-lg" id="modalReporte" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content formatear-texto">
            <div class="modal-body">
                <form>
                    <div class="row">
                        <div class="col-6">
                            <h6> REPORTE DEL USUARIO</h6>
                            <div class="form-group mb-0">
                                <label class="col-form-label">Corporación:</label>
                                <input type="text" class="form-control" value="{{this.objReporteFull._cuerpo_emerg_usuario}}" disabled>
                            </div>
                            <div class="form-group mt-1 mb-0">
                                <label class="col-form-label">Tipo de incidente:</label>
                                <input type="text" class="form-control" value="{{this.objReporteFull.tipo_incid_usuario}}" disabled>
                            </div>
                            <div class="form-group mt-1 mb-0">
                                <label class="col-form-label">Descripción:</label>
                                <textarea rows="3" class="form-control" value="{{this.objReporteFull.descrip_emerg_usuario}}" disabled></textarea>
                            </div>
                            <div class="form-group mt-1 mb-0">
                                <label class="col-form-label">Persona en pelígro:</label>
                                <input type="text" class="form-control" value="{{this.objReporteFull.quien_emergencia}}" disabled>
                            </div>
                        </div>
                        <div class="col-6">
                            <h6>REPORTE DEL OPERADOR</h6>
                            <div class="form-group mb-0">
                                <label class="col-form-label">Corporación:</label>
                                <input type="text" class="form-control" value="{{this.objReporteFull.clasificacion}}" disabled>
                            </div>
                            <div class="form-group mb-0">
                                <label class="col-form-label">Tipo de incidente:</label>
                                <input type="text" class="form-control" value="{{this.objReporteFull.incidente}}" disabled>
                            </div>
                            <div class="form-group mt-1 mb-0">
                                <label class="col-form-label">Descripción:</label>
                                <textarea rows="3" class="form-control" value="{{this.objReporteFull.descrip_emerg}}" disabled></textarea>
                            </div>
                            <div class="form-group mt-1 mb-0">
                                <label class="col-form-label">Conclusión:</label>
                                <input type="text" class="form-control" value="{{this.objReporteFull.cierre_conclusion}}" disabled>
                            </div>

                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dark" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>